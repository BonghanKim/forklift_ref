<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>An MPC tracking controller.: An MPC-based tracking controller.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">An MPC tracking controller.
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">An MPC-based tracking controller. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section user"><dt>Contents</dt><dd><ul>
<li><a class="el" href="index.html#pIntro">Introduction</a></li>
<li><a class="el" href="index.html#pDepRun">Dependencies and running</a></li>
<li><a class="el" href="index.html#pDirs">Supplementary files and source code</a></li>
<li><a class="el" href="index.html#pSoftware">Software</a></li>
</ul>
</dd></dl>
<dl class="section user"><dt>Other pages</dt><dd><ul>
<li><a class="el" href="pIntegration.html">Integration with other modules</a></li>
<li><a class="el" href="pInteraction.html">Interaction with the onboard controller</a></li>
<li><a class="el" href="swAssume.html">Assumptions on parameters, timing, etc</a></li>
<li><a class="el" href="todo.html">Todo List</a> <br  />
</li>
</ul>
</dd></dl>
<h1><a class="anchor" id="pIntro"></a>
Introduction</h1>
<p>This work is a part of two projects:</p><ul>
<li><a href="http://www.oru.se/English/Research/Research-environments/Research-environment/Centre-for-Applied-Autonomous-Sensor-Systems-AASS/Research/Research-projects/Research-project/?rdb=693">SAUNA - SAFE AUTONOMOUS NAVIGATION</a></li>
<li><a href="http://www.aass.oru.se/Research/Learning/savie/index.html">SAVIE</a></li>
</ul>
<p>The purpose of this module is to control a car while tracking a certain trajectory.</p>
<p>The module is adapted for SnowWhite car, which has VMC500 onboard controller that is capable of executing given steering angles and velocities of the steering wheel. This controller is produced by Kollmorgen (<a href="http://www.ndc8.com/ndc8.html">http://www.ndc8.com/ndc8.html</a>).</p>
<p>Tracking is realized using model predictive control (MPC). The main purpose of this module is to form and solve respective quadratic programming (QP) problem. All fromulations are available in LaTeX format in 'formulations' folder.</p>
<p><br  />
 </p>
<h1><a class="anchor" id="pDepRun"></a>
Dependencies and running</h1>
<pre class="fragment"></pre><p><br  />
 </p>
<h1><a class="anchor" id="pDirs"></a>
Supplementary files and source code</h1>
<p>The purpose of directories in the root of the project:</p>
<ul>
<li>'config': sample configuration files of the module.</li>
<li>'dummy_node': dummy control node, which was used for integration tests.</li>
<li>'formulations': formulations of the QP problem and its constraints.</li>
<li>'func_gen': a set of functions generated in Maple. They form several matrices, which are necessary for generation of the QP problem. Each function is generated for a particular length of the preview window of MPC problem.</li>
<li>'qpOASES': third party QP solver.</li>
<li>'traj_gen': a set of simple Matlab scripts, which are used for generation of test trajectories and generation of reference QP solutions for tests. 'spline_demo' subfolder contains an example of smooth trajectory generation with respect to time constraints. The test trajectories do not take into account initial and final steering angles (phi), because these angles depend on the curvature of a polynomial, which is used for interpolation.</li>
</ul>
<p><br  />
 </p>
<h1><a class="anchor" id="pSoftware"></a>
Software</h1>
<p>Some useful software, most of this stuff lies in /home/asv/SAUNA/ directory on the lab server.</p>
<h2><a class="anchor" id="pSoftKoll"></a>
From Kollmorgen</h2>
<ul>
<li>Vehicle Application Designer</li>
<li>OpenPCS</li>
<li>Layout Designer: maps and trajectories</li>
</ul>
<h3><a class="anchor" id="pSoftKollFirmware"></a>
Firmware upgrade</h3>
<p>Load the .vaf file into the vehicle application designer software. From there you can select tools-&gt;export to vehicle controller. This will compile the PCL software -&gt; check the output on the bottom window. To transfer the files to snowwhite select (in application designer): file-&gt; transfer... connect to 192.168.100.100 (yes, make sure you're IP is set up to the 192.168.100.x network) and update the system -&gt; click OK, during this clicking you could check that the dates fits with the current date / time you did the compilation. It will take some time and then the system will reboot.</p>
<h2><a class="anchor" id="pSoftKvaser"></a>
From Kvaser</h2>
<ul>
<li>Kvaser CAN King: monitor the CAN bus, send arbitrary messages. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
